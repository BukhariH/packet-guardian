{{define "admin-users"}}
{{template "header" dict "css" (list "admin-users") "main" .}}
<div class="admin-users">
    <h2>Administration Users</h2>

    <div class="clearfix">
        <div class="controls">
            <a href="/admin" class="btn">Dashboard</a>
        </div>
        <div class="new-user">
            <form id="new-user-form">
                New User:
                <input type="text" name="username">
                <button type="submit">Create</button>
            </form>
        </div>
    </div>

    <table>
        <tr>
            <th>&nbsp;</th>
            <th>Username</th>
            <th>Device Limit</th>
            <th>Valid</th>
            <th>Default Expiration</th>
        </tr>
        {{range .Users}}
        <tr>
            <td><a href="/admin/users/{{.Username}}">edit</a></td>
            <td><a href="/admin/user/{{.Username}}">{{.Username}}</a></td>
            <td>{{if eq .DeviceLimit 0}}Unlimited
                {{else if eq .DeviceLimit -1}}Global
                {{else}}{{.DeviceLimit}} <span class="userLimit">&bull;</span>
                {{end}}</td>
            {{if .UserNeverExpires}}
            <td>Always</td>
            {{else}}
            <td>{{.ValidAfter}} to {{.ValidBefore}}</td>
            {{end}}

            {{if eq .RawExpiration 0}}
            <td>Never</td>
            {{else if eq .RawExpiration 1}}
            <td>Global</td>
            {{else}}
            <td>{{.DefaultExpiration}}</td>
            {{end}}
        </tr>
        {{end}}
    </table>
</div>
{{template "footer" dict "js" (list "admin-users")}}
{{end}}
